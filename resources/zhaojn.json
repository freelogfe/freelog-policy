{
    "audiences": [
        {
            "name": "public",
            "type": "public"
        },
        {
            "name": "18035541373",
            "type": "userId"
        },
        {
            "name": "Yaoqinsanchi@qq.com",
            "type": "userId"
        }
    ],
    "declarations": {
        "serviceStates": [
            {
                "name": "active",
                "type": "authorization"
            },
            {
                "name": "testActive",
                "type": "testAuthorization"
            }
        ],
        "serviceStateConstants": [
            {
                "scope": "always",
                "state": "testActive"
            }
        ],
        "expressions": [
            {
                "funcName": "a",
                "funcArgs": [],
                "funcBody": "1+2*3^4+self.exhibited"
            },
            {
                "funcName": "ab",
                "funcArgs": [
                    "a",
                    "c"
                ],
                "funcBody": "1+2*3^(a-c+e)"
            }
        ]
    },
    "states": {
        "initial": {
            "transition": [
                {
                    "toState": "signed",
                    "service": "freelog",
                    "name": "SigningEvent",
                    "args": {
                        "resourceName": "abc/abc"
                    },
                    "code": "S101",
                    "description": "acknowledge a resource",
                    "singleton": true
                }
            ],
            "serviceStates": [
                "testActive"
            ],
            "isInitial": true
        },
        "signed": {
            "transition": [
                {
                    "toState": "auth",
                    "service": "freelog",
                    "name": "CycleEndEvent",
                    "args": {
                        "cycleCount": 2,
                        "timeUnit": "week"
                    },
                    "code": "A101",
                    "description": "raise when n cycle ends",
                    "singleton": false
                }
            ],
            "serviceStates": [
                "testActive",
                "active"
            ]
        },
        "auth": {
            "transition": [
                {
                    "toState": "settlement",
                    "service": "freelog",
                    "path": "x.y",
                    "name": "TransactionEvent",
                    "args": {
                        "amount": 5,
                        "account": "self.account"
                    },
                    "code": "S201",
                    "description": "one time transaction",
                    "singleton": true
                }
            ],
            "serviceStates": [
                "testActive"
            ]
        },
        "settlement": {
            "transition": [
                {
                    "toState": "auth",
                    "service": "freelog",
                    "name": "SettlementEvent",
                    "args": {
                        "account": "001"
                    },
                    "code": "S202",
                    "description": "fired when settlement cleared",
                    "singleton": true
                },
                {
                    "toState": "refund",
                    "service": "freelog",
                    "name": "TimeEvent",
                    "args": {
                        "dateTime": "2021-02-06 14:16:00"
                    },
                    "code": "A102",
                    "description": "fired on a pre-determined time",
                    "singleton": false
                },
                {
                    "toState": "confiscation",
                    "service": "freelog",
                    "name": "RelativeTimeEvent",
                    "args": {
                        "elapsed": 30,
                        "timeUnit": "day"
                    },
                    "code": "A103",
                    "description": "fired when certain amount of time elapsed",
                    "singleton": false
                }
            ],
            "serviceStates": [
                "testActive",
                "active"
            ]
        },
        "confiscation": {
            "transition": [
                {
                    "toState": "finish",
                    "service": "freelog",
                    "name": "ViewCountEvent",
                    "args": {
                        "amount": 100
                    },
                    "code": "S301",
                    "description": "reserve a target number of authorizations, fires when such number reached",
                    "singleton": true
                }
            ],
            "serviceStates": [
                "testActive"
            ]
        },
        "refund": {
            "transition": [
                {
                    "toState": "finish",
                    "service": "freelog",
                    "name": "EscrowExceedAmount",
                    "args": {
                        "account": "002",
                        "amount": 888,
                        "currencyUnit": "feather"
                    },
                    "code": "S210",
                    "description": "",
                    "singleton": true
                }
            ],
            "serviceStates": [
                "testActive"
            ]
        },
        "finish": {
            "transition": null,
            "serviceStates": [
                "testActive",
                "active"
            ]
        }
    },
    "description": {
        "symbolArgs": {
            "envArgs": [
                "self.exhibited",
                "self.account"
            ]
        }
    }
}